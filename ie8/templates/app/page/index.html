<!DOCTYPE html>
<html>
<head>
    <title>example</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,Chrome=1" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" type="text/css" href="../css/index.css">

    <link rel="stylesheet" type="text/css" href="../../lib/css/bootsjquery.min.css"/>
    <link rel="stylesheet" type="text/css" href="../../lib/css/validation.css"/>
    <link rel="stylesheet" type="text/css" href="../../node_modules/bootstrap/dist/css/bootstrap.min.css"/>
    <!--[if lt IE 9]>
    <script type="text/javascript" src="../../lib/script/html5shiv.min.js"></script>
    <script type="text/javascript" src="../../lib/script/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<div class="a2_01"></div>
<div class="a2_03"></div>
<div class="a2_04"></div>
<div style="width: 60%">
    <form id="defaultForm" method="post" class="form-horizontal">
        <div class="form-group">
            <label class="col-sm-3 control-label">电子邮箱</label>
            <div class="col-sm-5">
                <input type="text" class="form-control" name="email" id="email" />
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">firstName</label>
            <div class="col-sm-5">
                <input type="text" class="form-control" id="firstName" />
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">lastName</label>
            <div class="col-sm-5">
                <input type="text" class="form-control" id="lastName" />
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">login</label>
            <div class="col-sm-5">
                <input type="text" class="form-control" id="login" />
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-3 control-label">password</label>
            <div class="col-sm-5">
                <input type="text" class="form-control" id="password" />
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-9 col-sm-offset-3">
                <button type="submit" class="btn btn-primary" id="signup" value="Sign up">Submit</button>
            </div>
        </div>
    </form>
</div>
<br /><br />
/api/users
<input type="button" value="users" id="users">
<div id="wrapper">
    <section>
        <div class="data-container">
            <table>
                <thead>
                    <tr>
                        <th>firstName</th>
                        <th>lastName</th>
                    </tr>
                </thead>
                <tbody id="content">
                    <script type="text/html">
                      <% for(var i = 0;i < data.length;i++){ %>
                        <tr><td><%=data[i].firstName%></td><td><%=data[i].lastName%></td></tr>
                      <%}%>
                    </script>
                </tbody>
            </table>
        </div>
        <div id="pagination-content"></div>
    </section>
</div>
<input type="button" value="createUser" id="createUser"><br />

<script type="text/javascript" src="../script/index.js"></script>
<script type="text/javascript" src="../../lib/script/bootsjquery.min.js"></script>
<script type="text/javascript" src="../../lib/script/bksxTool.min.js"></script>  
<script type="text/javascript" src="../../lib/script/validation.js"></script>
<script>
    $(function () {
         $('#defaultForm').formValidation({
            message: 'This value is not valid',
            icon: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            fields: {
                email: {
                    validators: {
                        notEmpty: {
                            message: '电子邮件不能为空'
                        },
                        emailAddress: {
                            message: '请输入有效的电子邮件地址'
                        }
                    }
                }
            }
        })
        .on('success.form.fv', function(e) {
            var data1 = {
                  "activated": true,
                  "authorities": [
                    "ROLE_USER"
                  ],
                  "createdBy": "system",
                  "createdDate": "2017-03-10T03:11:22.262Z",
                  "email": $('#email').val(),
                  "firstName": $('#firstName').val(),
                  "id": 0,
                  "langKey": "zh-cn",
                  "lastModifiedBy": "system1",
                  "lastModifiedDate": "2017-03-10T03:11:22.262Z",
                  "lastName": $('#lastName').val(),
                  "login": $('#login').val(),
                  "password": $('#password').val()
            }
            $.ajax({
                url: '/api/users',
                data: data1,
                type: 'POST',
                success: function(data,textStatus,jqXHR){
                    alert('createUser chenggong');
                    console.log(data);

                }
            });
        });
        $('#users').click(function(){
            $('#content').paging({
              url:'/api/users',
              pageSize:5
            });
        });      
    });
</script>
</body>
</html>